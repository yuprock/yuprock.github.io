<html>
  <head>
    <title>Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
    <link rel="shortcut icon" href="favicon.ico" type="image/kkak-icon">
    <link rel="icon" href="favicon.ico" type="image/kkak-icon">
	<link rel="stylesheet" href="./assets.css" type="text/css">
  </head>
  <script>
    var kkakarr = []
	var kkaks = 5;
	var modelem = null;
	var modclose = null;
	var pophead = null;
	var popbody = null;
	var hambtn = null;
	
	let filename = "./messages.txt";
	//let fr = new FileReader();
	//fr.readAsText(filename, "utf-8");
	//fr.onload = () => {console.log(fr.result);};
	
	var result = null;
	var allloaded = false;
	
    window.onload = function(){
	  for (i = 0; i < kkaks; i++){
	    var tmp = document.getElementById("t"+(i+1));
	  }
	  modelem = document.querySelector('.modpopmsg');
	  modinner = document.querySelector('.modpop_inner');
	  modclose = document.querySelector('.clsbtn');
	  pophead = document.querySelector('.pophead');
	  popbody = document.querySelector('.popbody');
	  hambtn = document.querySelector('.hambtn');
	  sidebar = document.querySelector('.sideBar');
	  
	  readFile(filename);
	  //fetchfile(filename);
	}
	
	function readFile(filepath){
		var xhr = new XMLHttpRequest();
		xhr.open("GET", filepath, true);
		xhr.onload = function(){
			result = xhr.responseText.split('\n');
			allloaded = true;
			//console.log("done");
		};
		xhr.send();
	}
	
    
	function popmsg(i){
	  console.log("message number "+i);
	  if (allloaded == true){
		pophead.innerHTML = result[2*(i-1)];
		popbody.innerHTML = result[2*i-1];
		modelem.style.display = "block";
		modinner.style.display = "block";
		modclose.style.display = "block";
		//popbody.style.display = "inline";
		//pophead.style.display = "inline";
	  }
	  else{
		pophead.innerHTML = "haha";
		popbody.innerHTML = "hahaha";
		modelem.style.display = "block";
		modinner.style.display = "block";
		modclose.style.display = "block";
	  }
	}
	
	function btnclck(){
		modelem.style.display = "none";
		modinner.style.display = "none";
		//document.getElementById("modpop_inner").setAttribute("style", "display: none");
	}

	//$("#clsbtn").click(btnclck);
	
	function sidebarvis(){
		console.log("vis!");
		sidebar.style.transform = "translateX(-100%)";
		hambtn.setAttribute("onClick", "sidebarinvis()");
	}
	
	function sidebarinvis(){
		console.log("invis!");
		sidebar.style.transform = "translateX(100%)";
		hambtn.setAttribute("onClick", "sidebarvis()");
	}
	
	
  </script>
  <style>
  </style>
  <body style = "margin: 0; background: #fff; text-align: center; overflow-X: hidden;">
    <div class = "modpopmsg" onclick="btnclck()">
	</div>
	<div class = "modpop_inner">
		<div style = "width: 100%; height: 50px;">
			<button class = "clsbtn" onclick="btnclck()">close<br>button</button>
		</div>
		<div style = "width: 100%; text-align: center; height: 30px;">
			<div class = "pophead">
			</div>
		</div>
		<div style = "width: 100%; text-align: center; height: 20px;">
			<div class = "popbody">
			</div>
		</div>
	</div>
	
	<div class = "topBar">
		<div class = "topMenu"><div class = "hambtn" onclick="sidebarvis()">햄버거</div></div>
		<div class = "topTitle"> 혼재하는 꺅 </div>
	</div>
	<div class = "sbw">
		<div class = "sideBar">
			asdf
		</div>
	
	<div class = "body">
		<div class = "kkakline">
			<div class = "kkaktext" id="t1" style = "font-size: 50px;" onclick="popmsg(1)">꺅</div>
			<div class = "kkakblank" id = "p1"></div>
			<div class = "kkaktext" id="t2" style = "font-size: 50px;" onclick="popmsg(2)">꺅</div>
			<div class = "kkakblank" id = "p2"></div>
			<div class = "kkaktext" id="t3" style = "font-size: 50px;" onclick="popmsg(3)">꺅</div>
			<div class = "kkakblank" id = "p1"></div>
			<div class = "kkaktext" id="t4" style = "font-size: 50px;" onclick="popmsg(4)">꺅</div>
			<div class = "kkakblank" id = "p2"></div>
			<div class = "kkaktext" id="t5" style = "font-size: 50px;" onclick="popmsg(5)">꺅</div>
		</div>
		<div class = "kkakline" id = "2">
			<span class = "kkaktext" style = "font-size: 50px;">꺅</span>
			<div class = "kkakblank" id = "p1"></div>
			<div class = "kkaktext" style = "font-size: 50px;">꺅</div>
			<div class = "kkakblank" id = "p2"></div>
			<div class = "kkaktext" style = "font-size: 50px;">꺅</div>
			<div class = "kkakblank" id = "p3"></div>
			<div class = "kkaktext" style = "font-size: 50px;">꺅</div>
		</div>
		<!--이거<br>어디까지<br>늘어나는거예요?<br>이거<br>어디까지<br>늘어나는거예요?<br>
		이거<br>어디까지<br>늘어나는거예요?<br>이거<br>어디까지<br>늘어나는거예요?<br>
		이거<br>어디까지<br>늘어나는거예요?<br>이거<br>어디까지<br>늘어나는거예요?<br>
		이거<br>어디까지<br>늘어나는거예요?<br>이거<br>어디까지<br>늘어나는거예요?<br>
		이거<br>어디까지<br>늘어나는거예요?<br>이거<br>어디까지<br>늘어나는거예요?<br>
		이거<br>어디까지<br>늘어나는거예요?<br>이거<br>어디까지<br>늘어나는거예요?<br>
		이거<br>어디까지<br>늘어나는거예요?<br>이거<br>어디까지<br>늘어나는거예요?<br>
		이거<br>어디까지<br>늘어나는거예요?<br>이거<br>어디까지<br>늘어나는거예요?<br>-->
	</div>
	</div>
  </body>
</html>